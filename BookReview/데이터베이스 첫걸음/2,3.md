2장
=

관계형 데이터베이스 영어로 Relational DataBase(RDB)는 과연 무슨 뜻 일까.

관계가 의미하는 바는 2차원 형태의 표로 데이터를 정리한다는 의미다.

Excel을 떠올리면 행과 열로 구성된 많은 셸들이 존재하는데 관계형데이터베이스도 이러한 형식을 가지고있다.

### 그렇다면 왜 굳이 2차원으로 데이터베이스를 만들어 관리하는걸까?

직관적인 해석이 가능하다. 엑셀파일을 해석하는데 어려움을 겪는 사람이 없듯이 RDB도 같은 형태여서 쉽게 접근이 가능하다.

그리고 매우 큰 장점은 SQL이라는 언어를 지원하는 것인데 Java나 Python을 알지 못 해도 SQL이라는 직관적이고 쉬운 언어로 RDB를 사용할 수 있다.

## SQL이 얼마나 직관적이고 편리한지 확인해보자.

    SELECT 이름
        FROM 주소록
        WHERE 주소 LIKE '%서울시%'

영어는 영어지만 초등학생도 알 정도의 쉬운 단어들로 이루어져있다.

주소록의 주소중 서울시에 해당하는 사람의 이름을 조회하는 SQL문이다.

이만큼 직관적이기때문에 사용에 매우 편리하다.

SELECT 외에 CREATE DELETE UPDATE 등 데이터의 추가 삭제 수정이 가능한 문법이 있다.

자세한 문법은 구글링!

### 테이블, 행, 열

하나의 주소록은 DB의 테이블에 대응한다고 볼 수 있다.

만약 지인 주소록, 회사 주소록, 가족 주소록 으로 분류한다면 이 각각의 주소록들은 모두 테이블로 대응된다.

행과 열은 2차원을 구성하도록만들고 열은 컬럼이라는 단어로 소통한다.

### 소프트웨어의 구조

    애플리케이션
       ^ 
       | 
     미들웨어
       ^ 
       |
     운영체제

모든 애플리케이션은 운영체제 위에서 작동한다.

대표적인 PC운영체제인 Windows, Mac OS 와 모바일 운영체제인 Android, ios는 가장 밑단에서 애플리케이션을 동작시킨다.

애플리케이션은 MS office, kakao talk 등 사용자가 접근하는 가장 윗단이다.

미들웨어는 이 사이에서 동작하는데 DB가 미들웨어에 속한다.

예시를 들어보자면 이런 방식으로 사용된다.

Ubuntu (OS) ---> MySQL ---> App

RedHat (OS) ---> PostgreSQL ---> App

여러 조합들 속에서 운영될 수 있다.

요즘은 클라우드 서비스의 발달로 AWS에서 EC2 인스턴스를 생성하고 OS와 MySQL까지 제공해준다.

물론 그에대한 비용을 지불한다. 즉 사용자는 클라우드서비스에서 하드웨어를 빌리는 것이다.

3장
=
3장은 데이터베이스와 돈에 얽힌 이야기이다. 간단하게 정리보려한다.

위에서 언급했듯이 요즘은 클라우드서비스를 이용해 서비스를 제공하는데 프리티어 이용자가 아닌 상용서비스를 제공하는 입장이라면 하드웨어 대여비를 지급해야한다.

비용은 초기비용과 운영비용으로 나눠 생각할 수 있다.

휴대폰 단말기 값이 60만원이고 통신비가 2만원이라면 초기비용은 60 운영비용은 2만원이라고 볼 수 있다.

데이터베이스도 마찬가지로 처음 비용을 지불하고 기술지원을 위한 운영비용을 지급하기도한다.

초기비용없이 운영비용하는 경우도 있고 초기비용은 있지만 운영비용은 없는경우도 있다.

(사실 운영비용이없는 경우는 존재하기 어렵다.)

또 한 가지로는 구독서비스가 있을 수 있는데 넷플릭스를 예시로들면 되겠다. 어플다운로드엔 무료이지만 구독을 하게되면 비용이 발생한다.

AWS가 아주 적절한 예시가 될 수 있다. 초기엔 비용을 지불하지않지만 사용해야하는 서비스의 양이 증가하거나 더 큰 용량이 필요하다면 비용을 지불해야한다.

4장
=

- ## stand-alone
  인터넷 네트워크에 접속하지 않고 독립된 구성으로 물리적으로 접근해서 이용해야한다.

- ## 클러스터링
  동일한 기능의 컴포넌트를 병렬화한다. DB서버 장애예방을 위해 DB서버를 병렬로 증가시키는 것을 말한다.
  - ### Shared Disk 
      실제 저장소는 단 1개만 사용하고 모든 DB서버가 공유한다. (병목현상 발생가능)

    - #### Active-Active 
      병렬로 증가시킨 서버를 모두 동시에 가동시킨다. (병목현상 발생가능)

    - #### Active-Standby 
      하나의 DB서버만 가동시키고 나머지는 대기한다. (대기하는 서버와 가동되는 서버간의 동기화문제가 발생)

      - ##### Hot-Standby 
        여러 서버를 가동하지만 실제 이용은 한개의 서버로 비용의 문제가 있음

      - ##### Cold-Standby
         평소에는 StandbyDB가 가동되지않고 가동중인 서버가 죽었을경우 가동(StandbyDB가 가동되는데 시간이 걸림)
  - ### Shared Nothing
    서버와 저장소를 한 세트로 구성해 이 세트를 증가시킨다. (병렬처리로 성능이 선형으로 향상)
    하지만 DB서버들은 각자의 저장소가 아닌 저장소에는 액세스할 수 없다.
    [구글이 개발한 샤딩이 이 구조]

5장
=
## 관계형 데이터베이스으이 계층

### 최상위 : 인스턴스 (서버의 개념)

### 데이터베이스 : 스키마와 스키마에 존재하는 복수 이상의 테이블을 가지는 개념적 단위

### 스키마 : 복수 이상의 테이블을 가지는 하나의 틀

MySQL을 조금은 알고있지만 스키마라는 단어를 들어보지 못했다.

그래서 뭔가 놓치며 공부를 한게아닌게 했지만 MySQL은 3계층 구조를 택하고있어 데이터베이스와 스키마가 같은 개념이다.

PostgreSQL이 4계층구조로 데이터베이스와 스키마가 구분되어있다.


