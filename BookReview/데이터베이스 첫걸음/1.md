1장
=
데이터베이스는 주소록을 떠올리면 이해가 쉽다.

주소록은 이름, 전화번호, 직업, 이메일 등을 기록하는 정보의 집합이다.

데이터베이스의 등장도 미국의 호구조사시스템을 간편하게 만들기위한 하나의 방법으로 등장했다.

## Database 와 DBMS

데이터베이스와 DBMS는 같은 단어가 아님을 명심하자.

데이터베이스는 하나의 추상적 개념이고 실질적으로 사용하기위해 도움을 주는 소프트웨어가 DBMS이다.

DBMS에는 MySQL, PostgreSQL, Oracle 등 여러 기업들이 제공하는 DBMS가 있다.

즉 물리적인 실제 데이터베이스를 생성하고 접근하고 이용하는것은 DBMS인 것이다.

## 데이터베이스의 종류

데이터베이스에도 종류가 있다.

1. 계층형
2. 관계형
3. 객체형
4. NoSQL형

현재 가장 많이 사용되는 형태는 관계형 데이터베이스(RDB)이다.

NoSQL은 RDB의 기능을 가져와 대량의 데이터를 처리하기위한 대안으로 생겨났다.

이 책에서 설명할 형태는 관계형 데이터베이스가 될 것이다.

## 데이터베이스의 기능

### 1. CRUD

가장 중요하며 가장 많이 접해본 CRUD라는 기능을 가진것이 데이터베이스다.

Create 생성

Read 조회

Update 수정

Delete 삭제

주소록을 떠올리자면, 새로운 지인을 추가하거나 이사간 지인의 정보를 수정하고 손절한 지인은 삭제해야한다. 이런 기본적인 기능을 가지고있다.

### 2. 동시성

동시성 문제를 보자마자 떠오른 것은 얼마전 공부한 HashTable, Concurrent Hash Map, HashMap 이였다.

데이터베이스를 혼자 사용하는 일은 토이프로젝트가 아닌 이상 존재할 수 없다. 

만약 A라는 데이터를 수정하기위해 톰과 제리가 동시에 접근한다면 어떻게 될까?

심지어 제리는 잘못된 정보를 수정하려한다면 아무래도 문제가 생길 것이 뻔하다.

이를 위한 해결책이 있다.

1. 톰이 수정하려 접근하면 제리는 접근 조차 못하도록 막는다.

    (HashTable에서 엄격하게 동기화처리를 하는 것과 비슷하다.)

2. 톰이 수정하려할땐 제리는 읽기밖에 하지못한다.

    (Concurrent Hash Map이 제공하는 기능과 비슷하다. 읽기에는 락을 걸지 않기때문.)

3. 톰이 수정하려할때 제리도 수정이 가능하다.

톰의 입장에선 1번이 가장 좋은 방법일 것이고, 제리의 입장에선 3번이 가장 좋은 방법일 것이다.

물론 개발자입장에선 1,3은 너무 극단적인 방법이다.

하지만 이렇게 사용자입장에서 서로의 이익과 관련된 것을 트레이드오프관계라 한다.

이런 관계를 제어해야하는 문제를 가지고있는 것이 데이터베이스다.

### 3. 장애대응

몇 가지 예시가 있다.

얼마전 LG U+ 에서 인증DB의 암호를 admin으로 설정해 보안적 구멍이 생겨났다는 기사를 봤다.

또 몇 달 전 카카오의 데이터센터에 화재가나 장애가 난 사례가있다.

이렇게 매우 중요한 정보를 담은 데이터가 소실되어 데이터를 사용자에게 제공하지 못하는 일을 장애가 발생했다고 한다.

해결책은 무엇일까?

1. 물리적 데이터베이스를 분산

2. 논리적 데이터베이스를 분산 (백업)

하지만 위 모든 해결책은 비용이 발생한다.

안전성과 비용이 트레이드오프관계에 놓여있는 셈이다.

### 4. 보안

데이터베이스는 사용자가 직접 접근하지 못하고 접근이 되어서도 안되는 매우 중요한 위치에 있다.

그도 그럴것이 데이터베이스에는 사용자의 민감한 개인정보가 대량으로 저장되어있기때문이다.

그렇기때문에 데이터베이스는 보안에 매우 민감해야한다.



