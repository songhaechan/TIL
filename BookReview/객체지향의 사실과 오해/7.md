7장 함께 모으기
=

마틴파울러는 객체지향 설계 안에 세 가지 **상호 연관된 관점**을 설명한다.

1. 개념 관점 : 이 관점에서 설계는 도메인 안에 존재하는 개념과 개념들의 관계를 표현한다. 또한 사용자가 바라보는 도메인을 반영한다.

2. 명세 관점 : 도메인 관점을 벗어나 소프트웨어로 초점을 옮긴다. 도메인이 아닌 객체들에 초점을 맞춘다. 여기서 중요한 것은 인터페이스와 구현객체에 초점을 맞추는 것이다.
**인터페이스와 구현을 분리한다**

3. 구현 관점 : 개발자가 구체적인 객체 코드를 작성하는 관점을 말한다. 이 관점은 협력관계보다는 구체적인 상태와 행동에 초점을 맞춘다.

이 관점들은 순서에 관련이 없다. 오히려 하나의 시스템을 **다른 관점으로 보았을 뿐이다.**

즉 같은 사물을 다른 관점에서 바라본 것이다.

## 커피전문점 설계

먼저 스토리를 생각하자. 사용자는 기능을 사용하기위해 우리에게 큰 요청하나를 던질것이고 우리는 기능을 책임으로 변화시켜 작은 책임을 객체들에게 나눠야한다.

손님, 메뉴판, 바리스타, 커피 이들 모두 객체다.

이들은 하나의 타입으로써 추상화된 모델로 정의할 수 있다.

그 후엔 이 모델들의 **관계**에 주목하자.

이 관계를 기반으로 첫 번째 메세지를 생각하자.

"커피를 주문하라"

해당 메세지를 책임질 객체를 적절히 골라야한다.

또 말하지만 **도메인 모델이 힌트를 주고있다**

객체를 결정하면 그 다음 메세지를 생각하고 또 그 다음 메세지를 생각하며 하나하나 객체에게 책임을 지우면된다.

여기서 잊지말아야 할 것은 객체들은 충분히 자율적이여야한다.

절대 자신의 상태를 외부에 노출하지않아야하며 접근조차 시켜서는 안된다. 

도메인을 가지고 객체지향을 설계하다보면 누구에게 책임을 줄 것인지가 분명해진다.

그리고 자신의 영역이 아니라면 과감하게 다른 이에게 도움을 요청하며 협력관계를 생성해나가야한다.
