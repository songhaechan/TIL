27장 테스팅 패턴
=

### - 자식 테스트

너무나 큰 테스트를 작성하는 것은 빨간막대를 지속시킬 수 있다. 

우린 빨간막대 -> 초록막대 -> 리팩토링의 주기를 최대한 짧게 가져가기를 원한다.

큰 테스트에서 지체돼있다면 작은 자식테스트를 만들어 먼저 통과시켜라

### - 모의 객체

데이터베이스와 같이 연결하는 리소스 비용이 큰 객체들이 있다. 이런 경우 모의 객체를 이용해 테스트를 작성할 수 있다.

### - 셀프 션트

한 객체가 다른 객체와 올바르게 대화하는지 테스트하려면 어떻게 할까?

여기서 한 객체는 원래의 객체를 놓고 소통하는 다른 객체는 테스트 케이스로 지정하면 된다.

여기서 테스트 케이스가 모의 객체의 일종처럼 사용되는 것이다.

### - 로그 문자열

xUnit 예제에서 보았던 개념이다.

메서드가 실행되고 실행된 결과를 문자열을 이어붙여 로그로 기록하는 것이다.

이 방식은 테스트가 쉽게 읽힌다.

### - 크래시 테스트 더미

호출되지 않을 것 같은 에러 코드를 어떻게 테스트할 것인가?

분명 어떤 조건에서는 에러가 발생할 것이라 예상하지만 그 에러가 반드시 발생하지는 않는 경우가 있다.

파일의 크기가 너무 커서 예외를 발생시켜야하는 경우가 이에 해당한다.

이럴땐 자바의 익명 내부클래스를 만들어 특정메서드가 예외를 던지도록 일종의 모의객체로 활용한다.

객체 전체를 흉내내는것이 아니라 기대하는 예외만 재정의한채로 객체를 정의한다.

