29장 xUnit 패턴
=

## 단언

테스트는 불리언수식을 이용해 판단을 해야한다.

assertTrue(area() != 0) 과 같은 단언은 좋지않다. 0이 아닌 모든 값이 다 참으로 만족하기때문이다.

좋은 단언은 구체적이여야한다.

assertTrue(50,area()); 

위 처럼 명확하고 구체적인 단언을 사용하자.

## 픽스처

여러 테스트에서 공통으로 사용하는 객체들을 어떻게하면 좋을까?

이 질문은 진행중인 프로젝트에서 동일하게 느꼈었던 문제다.

정확히 동일한 객체를 여러 테스트가 사용하고있었다.

켄트백은 setUp()을 정의하여 인스턴스를 초기화하길 권한다.

물론 이렇게하면 각 테스트를 들여다볼때 다른 메서드(setUp)을 거쳐야하는 번거로움이 있지만 복사 붙여넣기를 할 바엔 테스트를 작성하는 시간을 더 줄이는 것이 낫다고 켄트백은 말한다.

## 외부 자원 해제

xUnit에서 setUp과 tearDown을 사용했다.

tearDown은 맨 마지막에 호출되는 메서드로 이 메서드를 마지막에 호출해 외부 자원을 해제하면된다.

물론 매번 마지막에 리소스를 닫아줘도 되지만, 잊고 해제하지 않을 경우가 있기때문에 공통 픽스처로 만들어주면 좋다.

예제가 파이썬 예제 이기때문에 self를 사용해 공통 픽스처를 사용했지만 자바에서는 템플릿메서드를 이용하면 될 것 같다.

## 예외 테스트

예외 발생이 정상이고 이것을 테스트하기위해선 예상되는 예외를 잡고 무시한 뒤에 예외가 발생하지 않은 경우는 테스트가 실패하도록 하면 된다.