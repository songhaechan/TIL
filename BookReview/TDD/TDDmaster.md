32장 TDD 마스터하기
=

### 단계가 얼마나 커야하나?

예제로 TDD를 진행해오면서 진행했던 단계들은 매우 다양했다. 이렇게까지 작은 단계로 해야하나 싶을정도로 작은 단계로 진행하기도했으며, 꽤나 많이 건너뛰기도했다.

결론은 둘 다 할 수 있어야한다.

우선은 작은 단계를 밟아야하고 그게 익숙해지면 리팩토링을 점점 덜 하게될 것이다.

### 테스트할 필요가 없는 것은 무엇인가?

"두려움이 지루함으로 변할때까지 테스트를 만들어라"

스스로 답을 찾아야하는 문제라고 한다.

켄트벡은 작성하는 모든 코드를 테스트하라는 말을 돌려하고있다.

### 어떤 테스트코드가 좋은 것인가?

- 너무나 긴 셋업코드는 좋지않다.

    하나의 단언을위해서 수백 줄의 객체생성 코드가 필요하다면 객체가 너무 크다는 뜻이다.

- 셋업 중복

    공통의 셋업 코드를 넣어 둘 공통의 장소를 찾기 힘들다는 것은 객체가 서로 너무나 밀접하다는 말이다.

- 실행시간이 긴 테스트

    테스트에 걸리는 시간이 오래걸린다면 그 테스트를 더 자주 하지않을 가능성이 높다. 또 테스트 시간이 길다는 것은 부피가 너무 크다는 말과 같다. 즉 쪼개야한다는 것이다.

- 깨지기 쉬운 테스트

    서로 영향을 미치는 테스트는 작성해서는 안된다.

### 피드백이 얼마나 필요한가?

테스트를 얼마나 작성해야한다고 묻는다면 그건 자신의 경험과 숙고를 통해 결정해야한다.

하나의 문제로 4개만의 테스트로 작성을 하던 60개의 테스트로 작성을 하건 자신이 결정해야할일이다.

(켄트백은 4개의 테스트로 작성했다는 사람을 비꼬고있다.)

### 테스트를 지워야할 때는 언제인가?

기준은 자신감이다. 해당 테스트를 지워도 프로그램 전체에 문제가 없다는 자신감의 정도에따라 테스트를 지울지 결정하자.

### 프로젝트 중반에 TDD를 도입하려면?

너무나 많은 코드가 테스트코드없이 작성되어있다면 TDD를 이용하기 매우 어렵다.

눈물을 흘리더라도 일단은 놔둬야한다고 한다.