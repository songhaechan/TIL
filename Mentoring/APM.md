## APM

APM이란 Application Performance Monitoring 의 약자로 말 그대로 애플리케이션의 성능을 측정하는 도구다.

## APM의 구성

Apm Agent

- 데이터를 제공하는 쪽을 말한다. 지금 내 프로젝트로 친다면 EC2서버를 말한다. Spring의 톰캣서버, 레디스, Nginx 등을 모니터링한다.

Apm Server

- 에이전트로부터 생성된 데이터를 분석하고 실제로 동작하는 서버를 말한다. 주로 EC2서버를 따로 생성해서 사용한다.

Apm Client

- APM은 다양한 어플리케이션과 함께 동작할 수 있다. 예를들어 톰캣, MySQL 등 상용 어플리케이션들과 함께 작동한다. 응답시간을 측정하고, 장애발생 시 원인과 경보를 제공한다. 이 모든 정보를 제공받는 주체가 Apm Client이다. 즉 Client는 내가된다.

## 프로메테우스

우선 각종 블로그에서 소개하기를 쿠버네티스의 메인 모니터링 시스템으로 유명해졌다고 한다.

아직 쿠버네티스를 사용하지않지만 대상 시스템이 톰캣이나 MySQL등 여러가지 시스템의 정보를 수집할 수 있다.

프로메테우스는 exporter(대상 시스템)으로부터 주기적으로 데이터를 가져온다.

> get방식으로 단순히 데이터를 가져온다고 한다.

다른 사람들이 사용한 MySQL 모니터링을 보니

InnoDB 버퍼풀 사이즈, MySQL에서 연결을 제한한 커넥션 개수, 네트워크 트래픽, 현재 QPS 등 여러 가지 모니터링을 제공한다.

### 그라파나

프로메테우스를 검색하면 같이 등장한다.

프로메테우스를 통해 수집한 데이터를 시각화하는 역할을 한다.

주로 시스템 관점의 데이터를 시각화해준다.

시스템 관점이라 함은 cpu 메모리 디스크를 뜻한다.

프로메테우스와 같이 사용하면 좋을 것 같다.

### 정리하자면

프로메테우스로 대상 시스템 하나하나를 수집해 그라파나로 통합적인 데이터 시각화가 가능하다.
